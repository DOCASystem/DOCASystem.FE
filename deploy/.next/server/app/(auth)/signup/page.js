(()=>{var e={};e.id=129,e.ids=[129],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},188:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>p}),t(7037),t(5795),t(3817),t(2523);var r=t(3191),a=t(8716),i=t(7922),l=t.n(i),n=t(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let p=["",{children:["(auth)",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7037)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\(auth)\\signup\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5795)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\(auth)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,3817)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,2523)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\not-found.tsx"]}],c=["D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\(auth)\\signup\\page.tsx"],u="/(auth)/signup/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/signup/page",pathname:"/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},827:(e,s,t)=>{Promise.resolve().then(t.bind(t,1713))},1713:(e,s,t)=>{"use strict";t.d(s,{default:()=>d});var r=t(326),a=t(4723),i=t(1774),l=t(2242),n=t(549),o=t(3529),p=t(6226),c=t(5298),u=t(9969),h=t(7577),m=t(381);function d(){let[e,s]=(0,h.useState)(!1),[t,d]=(0,h.useState)(!1),[x,g]=(0,h.useState)(!1),f=(0,a.cI)({resolver:(0,i.X)(l.if),defaultValues:{email:"",password:"",firstName:"",lastName:"",phone:"",otp:""}}),N=f.handleSubmit(async e=>{try{if(!x){m.Am.error("Vui l\xf2ng gửi v\xe0 nhập m\xe3 OTP trước khi đăng k\xfd");return}if(!e.otp){m.Am.error("Vui l\xf2ng nhập m\xe3 OTP đ\xe3 được gửi đến email của bạn"),f.setError("otp",{type:"manual",message:"Vui l\xf2ng nhập m\xe3 OTP"});return}s(!0);let t={username:e.email,password:e.password,phoneNumber:e.phone,fullName:`${e.firstName} ${e.lastName}`,otp:e.otp},r=await u.D.signup(t);m.Am.success("Đăng k\xfd th\xe0nh c\xf4ng!"),console.log("Đăng k\xfd th\xe0nh c\xf4ng:",r),window.location.href="/login"}catch(s){let e=s.response?.data?.message||"Đăng k\xfd thất bại. Vui l\xf2ng thử lại.";e.toLowerCase().includes("otp")||e.toLowerCase().includes("m\xe3 x\xe1c thực")?(m.Am.error("M\xe3 OTP kh\xf4ng hợp lệ hoặc đ\xe3 hết hạn. Vui l\xf2ng thử lại."),f.setError("otp",{type:"manual",message:"M\xe3 OTP kh\xf4ng hợp lệ hoặc đ\xe3 hết hạn"})):m.Am.error(e),console.error("Lỗi khi đăng k\xfd:",s)}finally{s(!1)}}),w=async()=>{let e=f.getValues("email");if(!e){f.setError("email",{type:"manual",message:"Vui l\xf2ng nhập email trước khi gửi OTP"}),m.Am.error("Vui l\xf2ng nhập email trước khi gửi OTP");return}try{d(!0),await u.D.requestOtp({email:e}),m.Am.success("Đ\xe3 gửi m\xe3 OTP đến email của bạn!"),g(!0)}catch(e){m.Am.error(e.response?.data?.message||"Kh\xf4ng thể gửi OTP. Vui l\xf2ng thử lại."),console.error("Lỗi khi gửi OTP:",e)}finally{d(!1)}};return(0,r.jsxs)("div",{className:"flex flex-row",children:[r.jsx(a.RV,{...f,children:(0,r.jsxs)("form",{onSubmit:N,className:"bg-gray-100 flex flex-col justify-center items-center max-w-[1536px] p-6 rounded-xl shadow-md min-w-[700px]",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:"Tạo t\xe0i khoản"}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 mt-6",children:[r.jsx(n.Z,{name:"firstName",label:"Họ",placeholder:"Nhập họ",className:"w-[404px]"}),r.jsx(n.Z,{name:"lastName",label:"T\xean",placeholder:"Nhập t\xean",className:"w-[404px]"}),r.jsx(n.Z,{name:"email",label:"Email",placeholder:"Nhập email",className:"w-[404px]"}),r.jsx(n.Z,{name:"phone",label:"Số điện thoại",placeholder:"Nhập số điện thoại",className:"w-[404px]"}),r.jsx(n.Z,{name:"password",label:"Mật khẩu",placeholder:"Nhập mật khẩu",type:"password",className:"w-[404px]"}),r.jsx(n.Z,{name:"confirmPassword",label:"X\xe1c nhận mật khẩu",placeholder:"Nhập lại mật khẩu",type:"password",className:"w-[404px]"}),(0,r.jsxs)("div",{className:"flex flex-row justify-between gap-4",children:[r.jsx(n.Z,{name:"otp",label:"OTP email",placeholder:"Nhập OTP",className:"w-[250px]"}),r.jsx("div",{className:"flex flex-row items-center justify-center mt-8",children:r.jsx(o.Z,{type:"button",onClick:w,disabled:t,className:"h-11 w-[100px] bg-pink-doca text-white rounded-md text-[16px]",children:t?"Đang gửi...":x?"Gửi lại":"Gửi OTP"})})]}),(0,r.jsxs)("div",{className:"mt-6 flex flex-col gap-4",children:[r.jsx(o.Z,{type:"submit",disabled:e,className:"h-12 w-[404px] bg-pink-doca text-white rounded-3xl text-[16px]",children:e?"Đang xử l\xfd...":"Đăng k\xfd"}),r.jsx("div",{className:"text-center",children:r.jsx(c.Z,{href:"/login",className:"text-pink-doca hover:underline",children:"Quay lại đăng nhập"})})]})]})]})}),r.jsx(c.Z,{href:"/",className:"w-[700px] h-[700px] rounded-l-2xl",children:r.jsx(p.default,{src:"/images/bg-login.png",alt:"bg-login",width:600,height:900,className:"w-[700px] h-[700px] rounded-l-2xl"})})]})}},7037:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(9510);let a=(0,t(8570).createProxy)(String.raw`D:\CN8-FPT\EXE\FE\doca-system-fe\src\app\(auth)\signup\signup\form-signup.tsx#default`);function i(){return r.jsx(r.Fragment,{children:r.jsx(a,{})})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[95,772,899,821,874],()=>t(188));module.exports=r})();