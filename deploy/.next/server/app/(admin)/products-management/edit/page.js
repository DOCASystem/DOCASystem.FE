(()=>{var e={};e.id=926,e.ids=[926],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},9091:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>o,routeModule:()=>u,tree:()=>l}),r(3616),r(9080),r(3817),r(2523);var s=r(3191),n=r(8716),i=r(7922),a=r.n(i),c=r(5231),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);r.d(t,d);let l=["",{children:["(admin)",{children:["products-management",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3616)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\(admin)\\products-management\\edit\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9080)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\(admin)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3817)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,2523)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\not-found.tsx"]}],o=["D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\(admin)\\products-management\\edit\\page.tsx"],h="/(admin)/products-management/edit/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(admin)/products-management/edit/page",pathname:"/products-management/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},7052:(e,t,r)=>{Promise.resolve().then(r.bind(r,1214))},1214:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var s=r(326),n=r(7577),i=r(5047),a=r(3205),c=r(549),d=r(2242),l=r(57),o=r(6226);function h(){let e=(0,i.useRouter)(),t=(0,i.useParams)(),r=(0,i.useSearchParams)();t?.id||r.get("id");let[h,m]=(0,n.useState)(!0),[u,p]=(0,n.useState)(null),[x,g]=(0,n.useState)(null),[b,f]=(0,n.useState)(!1),[y,k]=(0,n.useState)(null),j=u?{name:u.name,categoryIds:u.categoryIds,size:u.size,price:u.price,description:u.description,quantity:u.quantity,mainImage:null}:{name:"",categoryIds:[],size:"",price:0,description:"",quantity:0,mainImage:null},N=e=>{k(e),f(!0)},v=async()=>{y&&(alert("Cập nhật sản phẩm th\xe0nh c\xf4ng!"),f(!1),e.push("/products-management"))};return(0,s.jsxs)("div",{children:[x?(0,s.jsxs)("div",{className:"text-center py-10 text-red-500",children:[x,s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>e.push("/products-management"),className:"px-4 py-2 bg-pink-doca text-white rounded-md hover:bg-pink-500",children:"Quay lại danh s\xe1ch"})})]}):(0,s.jsxs)(a.Z,{title:"Chỉnh sửa sản phẩm",schema:d.Iy,defaultValues:j,onSubmit:e=>{N(e)},backLink:"/products-management",submitButtonText:"Cập nhật sản phẩm",maxHeight:"max-h-[calc(100vh-200px)]",formClassName:"h-[calc(100vh-150px)]",contentClassName:"pb-4 custom-scrollbar",children:[h&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-80 flex items-center justify-center z-10",children:s.jsx("div",{className:"text-lg font-medium text-pink-doca",children:"Đang tải dữ liệu sản phẩm..."})}),s.jsx(c.Z,{name:"name",label:"T\xean sản phẩm",placeholder:"Nhập t\xean sản phẩm"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("p",{className:"text-base font-semibold mb-2",children:"Danh mục"}),(0,s.jsxs)("select",{className:"w-full p-2 border border-gray-300 rounded-md",name:"categoryIds",defaultValue:u?.categoryIds[0]||"",children:[s.jsx("option",{value:"",children:"Chọn danh mục"}),s.jsx("option",{value:"dog",children:"Ch\xf3"}),s.jsx("option",{value:"cat",children:"M\xe8o"})]})]}),s.jsx(c.Z,{name:"size",label:"K\xedch thước",placeholder:"Nhập k\xedch thước sản phẩm"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(c.Z,{name:"price",label:"Gi\xe1",placeholder:"Nhập gi\xe1 sản phẩm",type:"number"}),s.jsx(c.Z,{name:"quantity",label:"Số lượng",placeholder:"Nhập số lượng",type:"number"})]}),s.jsx(c.Z,{name:"description",label:"M\xf4 tả",placeholder:"Nhập m\xf4 tả sản phẩm",isTextArea:!0}),(0,s.jsxs)("div",{className:"mt-4",children:[s.jsx("p",{className:"text-base font-semibold mb-2",children:"H\xecnh ảnh sản phẩm"}),u?.imageUrl&&(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"H\xecnh ảnh hiện tại:"}),s.jsx(o.default,{src:u.imageUrl,alt:u.name,width:128,height:128,className:"w-32 h-32 object-cover rounded-md border border-gray-300"})]}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 p-6 rounded-lg text-center",children:[s.jsx("p",{children:"K\xe9o v\xe0 thả ảnh hoặc nhấp để chọn ảnh mới"}),s.jsx("input",{type:"file",name:"mainImage",className:"hidden",id:"product-image"}),s.jsx("label",{htmlFor:"product-image",className:"mt-2 inline-block px-4 py-2 bg-pink-doca text-white rounded-md cursor-pointer",children:"Chọn ảnh"})]})]})]}),s.jsx(l.Z,{isOpen:b,title:"X\xe1c nhận cập nhật sản phẩm",message:"Bạn c\xf3 chắc chắn muốn cập nhật sản phẩm n\xe0y với những thay đổi đ\xe3 nhập?",confirmButtonText:"Cập nhật",cancelButtonText:"Hủy",onConfirm:v,onCancel:()=>{f(!1),k(null)},type:"info"})]})}function m(){return s.jsx(n.Suspense,{fallback:s.jsx("div",{className:"p-4",children:"Đang tải..."}),children:s.jsx(h,{})})}},3529:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(326),n=r(7524);function i({className:e,children:t,onClick:r,disabled:i=!1,loading:a=!1,variant:c="primary",type:d="button"}){return s.jsx("button",{onClick:r,disabled:i||a,type:d,className:(0,n.cn)("w-[172px] h-[60px] text-[20px] text-center font-medium rounded-xl transition-all duration-200",{primary:"bg-pink-doca text-white hover:bg-pink-600",secondary:"bg-gray-500 text-white hover:bg-gray-600",outline:"border border-pink-doca text-pink-doca hover:bg-pink-doca hover:text-white"}[c],i&&"opacity-50 cursor-not-allowed",e),children:a?s.jsx("span",{className:"animate-spin",children:"⏳"}):t})}r(7577)},57:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s}),r(326),r(7577),r(962);let s=({isOpen:e,title:t,message:r,confirmButtonText:s,cancelButtonText:n,onConfirm:i,onCancel:a,confirmButtonClass:c,cancelButtonClass:d,type:l="info"})=>null},3205:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(326),n=r(4723),i=r(1774),a=r(3529),c=r(5298),d=r(7524);function l({title:e,children:t,onSubmit:r,schema:l,defaultValues:o,backLink:h="",backButtonText:m="Quay lại",submitButtonText:u="Lưu",methods:p,className:x,formClassName:g,submitButtonClassName:b,contentClassName:f,maxHeight:y="max-h-[70vh]"}){let k=(0,n.cI)({resolver:(0,i.X)(l),defaultValues:o}),j=p||k,N=j.handleSubmit(r);return(0,s.jsxs)("div",{className:(0,d.cn)("w-full",x),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[e&&s.jsx("h1",{className:"text-2xl font-semibold text-pink-doca",children:e}),h&&s.jsx(a.Z,{className:"w-32 h-11 text-lg",children:s.jsx(c.Z,{href:h,children:m})})]}),s.jsx(n.RV,{...j,children:(0,s.jsxs)("form",{onSubmit:N,className:(0,d.cn)("bg-white p-6 rounded-lg shadow-md flex flex-col h-full",g),children:[s.jsx("div",{className:(0,d.cn)("flex-1 flex flex-col gap-4 overflow-y-auto pr-2 custom-scrollbar",y,f),children:t}),s.jsx("div",{className:"mt-6 flex justify-end sticky bottom-0 pt-4 bg-white border-t border-gray-100",children:s.jsx(a.Z,{type:"submit",className:(0,d.cn)("h-12 bg-pink-doca text-white text-base rounded-md px-6",b),children:u})})]})})]})}},549:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(326),n=r(4723),i=r(7524);function a({name:e,label:t,type:r="text",placeholder:a,className:c,isTextArea:d=!1,autoComplete:l}){let{register:o,formState:{errors:h}}=(0,n.Gc)();return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{htmlFor:e,className:"text-base font-semibold",children:t}),d?s.jsx("textarea",{...o(e),id:e,placeholder:a,className:(0,i.cn)("px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500",c)}):s.jsx("input",{...o(e),id:e,type:r,placeholder:a,autoComplete:l,className:(0,i.cn)("px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500",c)}),h[e]&&s.jsx("p",{className:"text-red-500 text-sm",children:h[e]?.message?.toString()})]})}},2242:(e,t,r)=>{"use strict";r.d(t,{Iy:()=>o,Qx:()=>d,dm:()=>i,gM:()=>c,gT:()=>h,if:()=>a,kn:()=>n,ot:()=>l});var s=r(123);let n=s.Ry().shape({firstName:s.Z_().matches(/^[A-Za-zÀ-ỹ\s]+$/,"Họ chỉ được chứa chữ v\xe0 dấu").required("Họ kh\xf4ng được để trống"),lastName:s.Z_().matches(/^[A-Za-zÀ-ỹ\s]+$/,"T\xean chỉ được chứa chữ v\xe0 dấu").required("T\xean kh\xf4ng được để trống"),email:s.Z_().email("Invalid email").required("Email kh\xf4ng được để trống"),password:s.Z_().min(6,"Mật khẩu \xedt nhất 6 k\xfd tự").matches(/[!@#$%^&*(),.?":{}|<>]/,"Mật khẩu cần c\xf3 \xedt nhất 1 k\xfd tự đặc biệt").required("Mật khẩu kh\xf4ng được để trống"),confirmPassword:s.Z_().oneOf([s.iH("password")],"Mật khẩu x\xe1c nhận kh\xf4ng khớp").required("X\xe1c nhận mật khẩu kh\xf4ng được để trống"),phone:s.Z_().matches(/^[0-9]{10}$/,"Số điện thoại phải c\xf3 10 chữ số").required("Số điện thoại kh\xf4ng được để trống"),otp:s.Z_().required("OTP kh\xf4ng được để trống"),message:s.Z_().optional()}),i=s.Ry().shape({email:s.Z_().required("Email hoặc số điện thoại kh\xf4ng được để trống"),password:s.Z_().required("Mật khẩu kh\xf4ng được để trống")});n.pick(["firstName","lastName"]);let a=n.pick(["firstName","lastName","email","password","confirmPassword","phone","otp"]),c=s.Ry().shape({email:s.Z_().email("Email kh\xf4ng hợp lệ").required("Email kh\xf4ng được để trống")}),d=s.Ry().shape({otp:s.Z_().required("OTP kh\xf4ng được để trống")}),l=s.Ry().shape({password:s.Z_().min(6,"Mật khẩu \xedt nhất 6 k\xfd tự").matches(/[!@#$%^&*(),.?":{}|<>]/,"Mật khẩu cần c\xf3 \xedt nhất 1 k\xfd tự đặc biệt").required("Mật khẩu kh\xf4ng được để trống"),confirmPassword:s.Z_().oneOf([s.iH("password")],"Mật khẩu x\xe1c nhận kh\xf4ng khớp").required("X\xe1c nhận mật khẩu kh\xf4ng được để trống")}),o=s.Ry().shape({name:s.Z_().required("T\xean sản phẩm kh\xf4ng được để trống"),price:s.Rx().positive("Gi\xe1 phải l\xe0 số dương").required("Gi\xe1 kh\xf4ng được để trống"),description:s.Z_().required("M\xf4 tả kh\xf4ng được để trống"),categoryIds:s.IX().min(1,"Phải chọn \xedt nhất 1 danh mục"),mainImage:s.nK().test("fileSize","File qu\xe1 lớn",e=>!e||e.size<=5e6),quantity:s.Rx().required("Số lượng kh\xf4ng được để trống"),size:s.Z_().required("K\xedch thước kh\xf4ng được để trống")}),h=s.Ry().shape({title:s.Z_().required("Ti\xeau đề kh\xf4ng được để trống"),content:s.Z_().required("Nội dung kh\xf4ng được để trống"),status:s.Z_().oneOf(["DRAFT","PUBLISHED","URGENT","NEED_PRODUCT","NEED_DONATION"],"Trạng th\xe1i kh\xf4ng hợp lệ"),categoryIds:s.IX().min(1,"Phải chọn \xedt nhất 1 danh mục"),description:s.Z_().required("M\xf4 tả kh\xf4ng được để trống")});s.Ry().shape({productId:s.Z_().required(),quantity:s.Rx().min(1,"Số lượng tối thiểu l\xe0 1").required("Số lượng kh\xf4ng được để trống")})},3616:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(9510);let n=(0,r(8570).createProxy)(String.raw`D:\CN8-FPT\EXE\FE\doca-system-fe\src\app\(admin)\products-management\edit\edit-form\edit-product-form.tsx#default`);function i(){return s.jsx(s.Fragment,{children:s.jsx(n,{})})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[95,772,899,821,917],()=>r(9091));module.exports=s})();