(()=>{var e={};e.id=428,e.ids=[428],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},1369:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>o,routeModule:()=>h,tree:()=>m}),t(8375),t(9080),t(3817),t(2523);var r=t(3191),a=t(8716),n=t(7922),i=t.n(n),l=t(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let m=["",{children:["(admin)",{children:["users-management",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8375)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\(admin)\\users-management\\edit\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9080)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\(admin)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,3817)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,2523)),"D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\not-found.tsx"]}],o=["D:\\CN8-FPT\\EXE\\FE\\doca-system-fe\\src\\app\\(admin)\\users-management\\edit\\[id]\\page.tsx"],c="/(admin)/users-management/edit/[id]/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(admin)/users-management/edit/[id]/page",pathname:"/users-management/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},742:(e,s,t)=>{Promise.resolve().then(t.bind(t,6562))},6562:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(326),a=t(7577),n=t(5047),i=t(434),l=t(3529),d=t(57);function m(){let e=(0,n.useRouter)(),s=(0,n.useParams)().id,[t,m]=(0,a.useState)(!0),[o,c]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),[g,b]=(0,a.useState)({id:"",username:"",fullName:"",phoneNumber:"",email:"",address:"",role:"USER",status:"Hoạt động"}),[N,y]=(0,a.useState)({}),j=()=>{let e={};return g.username.trim()||(e.username="T\xean đăng nhập kh\xf4ng được để trống"),g.fullName.trim()||(e.fullName="Họ t\xean kh\xf4ng được để trống"),g.phoneNumber.trim()?/^[0-9]{10}$/.test(g.phoneNumber)||(e.phoneNumber="Số điện thoại kh\xf4ng hợp lệ"):e.phoneNumber="Số điện thoại kh\xf4ng được để trống",g.email&&!/^\S+@\S+\.\S+$/.test(g.email)&&(e.email="Email kh\xf4ng hợp lệ"),y(e),0===Object.keys(e).length},f=e=>{let{name:s,value:t}=e.target;b(e=>({...e,[s]:t})),p(!0),N[s]&&y(e=>{let t={...e};return delete t[s],t})},v=async t=>{if(t.preventDefault(),j()){c(!0);try{console.log("Cập nhật người d\xf9ng với dữ liệu:",g),await new Promise(e=>setTimeout(e,1e3)),p(!1),e.push(`/users-management/view/${s}`)}catch(e){console.error("Lỗi khi cập nhật người d\xf9ng:",e),alert("C\xf3 lỗi xảy ra khi cập nhật th\xf4ng tin người d\xf9ng")}finally{c(!1)}}},k=()=>{x?h(!0):e.push(`/users-management/view/${s}`)};return t?(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Chỉnh sửa người d\xf9ng"}),r.jsx(i.default,{href:`/users-management/view/${s}`,children:r.jsx(l.Z,{className:"bg-pink-doca hover:bg-pink-doca h-11 w-48",children:"Quay lại"})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 flex justify-center items-center min-h-[400px]",children:r.jsx("div",{className:"text-gray-500",children:"Đang tải th\xf4ng tin người d\xf9ng..."})})]}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Chỉnh sửa người d\xf9ng"}),r.jsx(l.Z,{className:"bg-pink-doca hover:bg-pink-doca h-11 w-48",onClick:k,disabled:o,children:"Quay lại"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,r.jsxs)("form",{onSubmit:v,children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),r.jsx("input",{type:"text",id:"id",name:"id",value:g.id,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100",disabled:!0,readOnly:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:["T\xean đăng nhập ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"username",name:"username",value:g.username,onChange:f,className:`w-full p-2 border rounded-md ${N.username?"border-red-500":"border-gray-300"}`,disabled:o}),N.username&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.username})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Họ t\xean ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"fullName",name:"fullName",value:g.fullName,onChange:f,className:`w-full p-2 border rounded-md ${N.fullName?"border-red-500":"border-gray-300"}`,disabled:o}),N.fullName&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.fullName})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:["Số điện thoại ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"phoneNumber",name:"phoneNumber",value:g.phoneNumber,onChange:f,className:`w-full p-2 border rounded-md ${N.phoneNumber?"border-red-500":"border-gray-300"}`,disabled:o}),N.phoneNumber&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.phoneNumber})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",id:"email",name:"email",value:g.email||"",onChange:f,className:`w-full p-2 border rounded-md ${N.email?"border-red-500":"border-gray-300"}`,disabled:o}),N.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.email})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vai tr\xf2 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("select",{id:"role",name:"role",value:g.role,onChange:f,className:"w-full p-2 border border-gray-300 rounded-md",disabled:o,children:[r.jsx("option",{value:"USER",children:"Kh\xe1ch h\xe0ng"}),r.jsx("option",{value:"STAFF",children:"Nh\xe2n vi\xean"}),r.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trạng th\xe1i ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("select",{id:"status",name:"status",value:g.status,onChange:f,className:"w-full p-2 border border-gray-300 rounded-md",disabled:o,children:[r.jsx("option",{value:"Hoạt động",children:"Hoạt động"}),r.jsx("option",{value:"Bị kh\xf3a",children:"Bị kh\xf3a"})]})]}),(0,r.jsxs)("div",{className:"mb-4 md:col-span-2",children:[r.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Địa chỉ"}),r.jsx("textarea",{id:"address",name:"address",rows:3,value:g.address||"",onChange:f,className:"w-full p-2 border border-gray-300 rounded-md",disabled:o})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx(l.Z,{type:"button",variant:"outline",className:"border-gray-300 hover:bg-gray-100 py-2 px-4",onClick:k,disabled:o,children:"Hủy"}),r.jsx(l.Z,{type:"submit",variant:"primary",className:"bg-pink-doca hover:bg-pink-doca-dark py-2 px-4",disabled:o,children:o?"Đang lưu...":"Lưu thay đổi"})]})]})}),r.jsx(d.Z,{isOpen:u,title:"X\xe1c nhận tho\xe1t",message:"Bạn c\xf3 thay đổi chưa được lưu. Bạn c\xf3 chắc chắn muốn tho\xe1t kh\xf4ng?",confirmButtonText:"Tho\xe1t",cancelButtonText:"Ở lại",onConfirm:()=>{h(!1),e.push(`/users-management/view/${s}`)},onCancel:()=>h(!1),type:"warning"})]})}},3529:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var r=t(326),a=t(7524);function n({className:e,children:s,onClick:t,disabled:n=!1,loading:i=!1,variant:l="primary",type:d="button"}){return r.jsx("button",{onClick:t,disabled:n||i,type:d,className:(0,a.cn)("w-[172px] h-[60px] text-[20px] text-center font-medium rounded-xl transition-all duration-200",{primary:"bg-pink-doca text-white hover:bg-pink-600",secondary:"bg-gray-500 text-white hover:bg-gray-600",outline:"border border-pink-doca text-pink-doca hover:bg-pink-doca hover:text-white"}[l],n&&"opacity-50 cursor-not-allowed",e),children:i?r.jsx("span",{className:"animate-spin",children:"⏳"}):s})}t(7577)},57:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r}),t(326),t(7577),t(962);let r=({isOpen:e,title:s,message:t,confirmButtonText:r,cancelButtonText:a,onConfirm:n,onCancel:i,confirmButtonClass:l,cancelButtonClass:d,type:m="info"})=>null},8375:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`D:\CN8-FPT\EXE\FE\doca-system-fe\src\app\(admin)\users-management\edit\[id]\page.tsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[95,772,821,917],()=>t(1369));module.exports=r})();