(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[871],{2259:function(e,t,i){Promise.resolve().then(i.bind(i,6025))},3145:function(e,t,i){"use strict";i.d(t,{default:function(){return c.a}});var n=i(8461),c=i.n(n)},8461:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{default:function(){return o},getImageProps:function(){return s}});let n=i(7043),c=i(5346),a=i(5878),d=n._(i(5084));function s(e){let{props:t}=(0,c.getImgProps)(e,{defaultLoader:d.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,i]of Object.entries(t))void 0===i&&delete t[e];return{props:t}}let o=a.Image},6025:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(7437),c=i(2265),a=i(3145),d=i(7648),s=i(455),o=i(3560);function r(e){let{currentProductId:t}=e,[i,a]=(0,c.useState)([]),[d,r]=(0,c.useState)(!0);(0,c.useEffect)(()=>{l()},[t]);let l=async()=>{r(!0);try{let e=(0,s.VB)(t,4);e.data.items&&a(e.data.items)}catch(e){console.error("Error fetching recommended products:",e)}finally{r(!1)}};return d?(0,n.jsx)("div",{className:"text-center py-6",children:"Đang tải sản phẩm đề xuất..."}):0===i.length?null:(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(e=>(0,n.jsx)(o.Z,{product:e},e.id))})}function l(e){var t,i;let{params:o}=e,[l,h]=(0,c.useState)(null),[m,g]=(0,c.useState)(!0),[u,p]=(0,c.useState)(null),[f,v]=(0,c.useState)(1);(0,c.useEffect)(()=>{(async()=>{g(!0);try{let e=(0,s.gk)(o.id);h(e.data)}catch(e){console.error("Error fetching product details:",e),p("Kh\xf4ng thể tải th\xf4ng tin sản phẩm")}finally{g(!1)}})()},[o.id]);let x=e=>{e>0&&l&&e<=(l.quantity||0)&&v(e)};if(m)return(0,n.jsx)("div",{className:"container mx-auto py-20 text-center",children:(0,n.jsx)("div",{className:"animate-pulse",children:"Đang tải th\xf4ng tin sản phẩm..."})});if(u||!l)return(0,n.jsxs)("div",{className:"container mx-auto py-20 text-center",children:[(0,n.jsx)("div",{className:"text-red-500",children:u||"Kh\xf4ng t\xecm thấy sản phẩm"}),(0,n.jsx)(d.default,{href:"/shop",className:"mt-4 inline-block bg-pink-doca text-white px-4 py-2 rounded",children:"Quay lại cửa h\xe0ng"})]});let y=l.productImages&&l.productImages.length>0&&l.productImages[0].imageUrl||"/images/food-test.png",j=(null===(t=l.productImages)||void 0===t?void 0:t.slice(1))||[];return(0,n.jsxs)("div",{className:"container mx-auto py-10",children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)(d.default,{href:"/shop",className:"text-gray-600 hover:text-pink-doca flex items-center gap-2",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Quay lại cửa h\xe0ng"]})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"relative aspect-square w-full rounded-lg overflow-hidden",children:(0,n.jsx)(a.default,{src:y,alt:l.name||"Sản phẩm",fill:!0,sizes:"100%",className:"object-cover"})}),j.length>0&&(0,n.jsx)("div",{className:"mt-4 grid grid-cols-4 gap-2",children:j.map((e,t)=>(0,n.jsx)("div",{className:"relative aspect-square w-full rounded-lg overflow-hidden",children:(0,n.jsx)(a.default,{src:e.imageUrl||"/images/food-test.png",alt:"".concat(l.name," - Ảnh ").concat(t+2),fill:!0,sizes:"100%",className:"object-cover"})},t))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-4",children:l.name}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("p",{className:"text-2xl font-bold text-pink-doca",children:(i=l.price)?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i):"0 VND"}),l.quantity&&l.quantity>0?(0,n.jsxs)("p",{className:"text-green-600 mt-1",children:["C\xf2n ",l.quantity," sản phẩm trong kho"]}):(0,n.jsx)("p",{className:"text-red-500 mt-1",children:"Hết h\xe0ng"})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h3",{className:"text-lg font-medium mb-2",children:"M\xf4 tả sản phẩm"}),(0,n.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:l.description})]}),l.quantity&&l.quantity>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Số lượng"}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("button",{className:"px-3 py-1 bg-gray-200 rounded-l-md",onClick:()=>x(f-1),disabled:f<=1,children:"-"}),(0,n.jsx)("input",{type:"number",className:"w-16 px-3 py-1 text-center border-gray-200 border-y",value:f,onChange:e=>x(parseInt(e.target.value)),min:1,max:l.quantity}),(0,n.jsx)("button",{className:"px-3 py-1 bg-gray-200 rounded-r-md",onClick:()=>x(f+1),disabled:f>=(l.quantity||0),children:"+"})]})]}),(0,n.jsx)("button",{onClick:()=>{console.log("Th\xeam v\xe0o giỏ h\xe0ng:",null==l?void 0:l.id,"Số lượng:",f)},className:"bg-pink-doca text-white py-3 px-6 rounded-md hover:bg-pink-600 transition-colors w-full md:w-auto",children:"Th\xeam v\xe0o giỏ h\xe0ng"})]})]})]}),(0,n.jsxs)("div",{className:"mt-16",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Sản phẩm tương tự"}),(0,n.jsx)(r,{currentProductId:o.id})]})]})}},3560:function(e,t,i){"use strict";i.d(t,{Z:function(){return d}});var n=i(7437),c=i(3145),a=i(7648);function d(e){var t;let{product:i}=e,d={id:"1",name:"Thức ăn cho m\xe8o - Whiskas 1.2kg",prices:12e4},s=(null==i?void 0:i.productImages)&&i.productImages.length>0&&i.productImages[0].imageUrl||"/images/food-test.png";return(0,n.jsx)("div",{className:"w-full border-2 border-slate-100 rounded-[20px]",children:(0,n.jsxs)(a.default,{href:"/shop/".concat((null==i?void 0:i.id)||d.id),children:[(0,n.jsx)("div",{className:"relative aspect-square",children:(0,n.jsx)(c.default,{src:s,alt:(null==i?void 0:i.name)||d.name,fill:!0,sizes:"100%",className:"object-cover rounded-t-[20px]"})}),(0,n.jsxs)("div",{className:"p-5 bg-slate-100 rounded-b-[20px]",children:[(0,n.jsx)("p",{className:"mb-3 font-semibold line-clamp-2 h-12",children:(null==i?void 0:i.name)||d.name}),(0,n.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,n.jsx)("p",{className:"text-pink-doca font-bold",children:(t=(null==i?void 0:i.price)||d.prices)?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t):"0 VND"}),(0,n.jsx)("button",{className:"bg-pink-doca text-white p-2 rounded-full hover:bg-pink-600 transition-colors",children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M9 20h6"}),(0,n.jsx)("path",{d:"M12 16v4"}),(0,n.jsx)("path",{d:"M6.33 12h11.34"}),(0,n.jsx)("path",{d:"M5 10 2 7l3-3"}),(0,n.jsx)("path",{d:"m19 10 3-3-3-3"})]})})]})]})]})})}},455:function(e,t,i){"use strict";i.d(t,{VB:function(){return d},gk:function(){return a},ku:function(){return n},lz:function(){return c}});let n=[{id:"1",name:"Thức ăn cho m\xe8o - Whiskas 1.2kg",description:"Thức ăn hạt cho m\xe8o Whiskas gi\xfap m\xe8o cưng của bạn ph\xe1t triển khỏe mạnh. Sản phẩm gi\xe0u dinh dưỡng, protein chất lượng cao v\xe0 c\xe1c vitamin thiết yếu.",quantity:50,price:12e4,createdAt:"2023-10-15T08:00:00Z",modifiedAt:"2023-10-15T08:00:00Z",isHidden:!1,productImages:[{id:"img1",imageUrl:"/images/food-test.png"}],categories:[{id:"cat1",name:"Đồ ăn cho m\xe8o"}]},{id:"2",name:"Thức ăn cho ch\xf3 - Pedigree 1.5kg",description:"Thức ăn hạt d\xe0nh cho ch\xf3 Pedigree gi\xfap c\xfan cưng của bạn khỏe mạnh v\xe0 năng động. Th\xe0nh phần gi\xe0u dinh dưỡng, dễ ti\xeau h\xf3a.",quantity:45,price:15e4,createdAt:"2023-10-20T08:00:00Z",modifiedAt:"2023-10-20T08:00:00Z",isHidden:!1,productImages:[{id:"img2",imageUrl:"/images/food-test.png"}],categories:[{id:"cat2",name:"Đồ ăn cho ch\xf3"}]},{id:"3",name:"Đồ chơi cho m\xe8o - Cần c\xe2u chuột",description:"Đồ chơi cần c\xe2u chuột cho m\xe8o gi\xfap th\xfa cưng vận động v\xe0 giải tr\xed. Chất liệu an to\xe0n, bền bỉ.",quantity:30,price:75e3,createdAt:"2023-11-05T08:00:00Z",modifiedAt:"2023-11-05T08:00:00Z",isHidden:!1,productImages:[{id:"img3",imageUrl:"/images/food-test.png"}],categories:[{id:"cat3",name:"Đồ chơi cho m\xe8o"}]},{id:"4",name:"V\xf2ng cổ cho ch\xf3 - Size M",description:"V\xf2ng cổ chất lượng cao d\xe0nh cho ch\xf3 vừa v\xe0 nhỏ. Chất liệu tho\xe1ng kh\xed, kh\xf4ng g\xe2y k\xedch ứng da.",quantity:25,price:9e4,createdAt:"2023-11-10T08:00:00Z",modifiedAt:"2023-11-10T08:00:00Z",isHidden:!1,productImages:[{id:"img4",imageUrl:"/images/food-test.png"}],categories:[{id:"cat4",name:"Phụ kiện cho ch\xf3"}]},{id:"5",name:"Khay vệ sinh cho m\xe8o",description:"Khay vệ sinh cho m\xe8o với thiết kế hiện đại, dễ d\xe0ng vệ sinh v\xe0 khử m\xf9i hiệu quả.",quantity:15,price:18e4,createdAt:"2023-11-15T08:00:00Z",modifiedAt:"2023-11-15T08:00:00Z",isHidden:!1,productImages:[{id:"img5",imageUrl:"/images/food-test.png"}],categories:[{id:"cat5",name:"Phụ kiện cho m\xe8o"}]},{id:"6",name:"C\xe1t vệ sinh cho m\xe8o - 5kg",description:"C\xe1t vệ sinh chất lượng cao, khả năng h\xfat ẩm mạnh v\xe0 khử m\xf9i hiệu quả, an to\xe0n cho m\xe8o cưng.",quantity:40,price:11e4,createdAt:"2023-11-20T08:00:00Z",modifiedAt:"2023-11-20T08:00:00Z",isHidden:!1,productImages:[{id:"img6",imageUrl:"/images/food-test.png"}],categories:[{id:"cat5",name:"Phụ kiện cho m\xe8o"}]},{id:"7",name:"B\xe1t ăn cho ch\xf3 - Inox",description:"B\xe1t ăn cho ch\xf3 l\xe0m từ Inox cao cấp, kh\xf4ng gỉ, dễ d\xe0ng vệ sinh, đảm bảo an to\xe0n vệ sinh thực phẩm.",quantity:35,price:85e3,createdAt:"2023-11-25T08:00:00Z",modifiedAt:"2023-11-25T08:00:00Z",isHidden:!1,productImages:[{id:"img7",imageUrl:"/images/food-test.png"}],categories:[{id:"cat4",name:"Phụ kiện cho ch\xf3"}]},{id:"8",name:"Sữa tắm cho ch\xf3 m\xe8o - 500ml",description:"Sữa tắm cho ch\xf3 m\xe8o gi\xfap l\xe0m sạch, khử m\xf9i v\xe0 bảo vệ da, l\xf4ng của th\xfa cưng. Hương thơm dễ chịu, dưỡng ẩm tốt.",quantity:20,price:135e3,createdAt:"2023-12-01T08:00:00Z",modifiedAt:"2023-12-01T08:00:00Z",isHidden:!1,productImages:[{id:"img8",imageUrl:"/images/food-test.png"}],categories:[{id:"cat6",name:"Chăm s\xf3c th\xfa cưng"}]},{id:"9",name:"Lược chải l\xf4ng cho ch\xf3 m\xe8o",description:"Lược chải l\xf4ng chất lượng cao, gi\xfap loại bỏ l\xf4ng rụng, bụi bẩn v\xe0 ngăn ngừa rối l\xf4ng cho th\xfa cưng.",quantity:25,price:65e3,createdAt:"2023-12-05T08:00:00Z",modifiedAt:"2023-12-05T08:00:00Z",isHidden:!1,productImages:[{id:"img9",imageUrl:"/images/food-test.png"}],categories:[{id:"cat6",name:"Chăm s\xf3c th\xfa cưng"}]},{id:"10",name:"Thức ăn hạt cho ch\xf3 con - Royal Canin 1kg",description:"Thức ăn hạt chuy\xean biệt cho ch\xf3 con, gi\xfap ph\xe1t triển xương v\xe0 cơ bắp khỏe mạnh. Cung cấp đầy đủ dưỡng chất cho giai đoạn ph\xe1t triển.",quantity:30,price:25e4,createdAt:"2023-12-10T08:00:00Z",modifiedAt:"2023-12-10T08:00:00Z",isHidden:!1,productImages:[{id:"img10",imageUrl:"/images/food-test.png"}],categories:[{id:"cat2",name:"Đồ ăn cho ch\xf3"}]},{id:"11",name:"Pate cho m\xe8o - Whiskas 85g",description:"Pate Whiskas cho m\xe8o với th\xe0nh phần dinh dưỡng cao, đảm bảo bữa ăn ngon miệng v\xe0 đầy đủ dưỡng chất cho m\xe8o cưng.",quantity:100,price:2e4,createdAt:"2023-12-15T08:00:00Z",modifiedAt:"2023-12-15T08:00:00Z",isHidden:!1,productImages:[{id:"img11",imageUrl:"/images/food-test.png"}],categories:[{id:"cat1",name:"Đồ ăn cho m\xe8o"}]},{id:"12",name:"Nh\xe0 c\xe2y cho m\xe8o - Size M",description:"Nh\xe0 c\xe2y cho m\xe8o với nhiều tầng, g\xf3c nghỉ v\xe0 khu vực leo tr\xe8o, gi\xfap m\xe8o vận động v\xe0 thỏa m\xe3n bản năng tự nhi\xean.",quantity:10,price:85e4,createdAt:"2023-12-20T08:00:00Z",modifiedAt:"2023-12-20T08:00:00Z",isHidden:!1,productImages:[{id:"img12",imageUrl:"/images/food-test.png"}],categories:[{id:"cat5",name:"Phụ kiện cho m\xe8o"}]}],c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,i=arguments.length>2?arguments[2]:void 0,c=[...n];i&&(i.categoryIds&&i.categoryIds.length>0&&(c=c.filter(e=>{var t;return null===(t=e.categories)||void 0===t?void 0:t.some(e=>{var t;return null===(t=i.categoryIds)||void 0===t?void 0:t.includes(e.name||"")})})),void 0!==i.minPrice&&(c=c.filter(e=>(e.price||0)>=(i.minPrice||0))),void 0!==i.maxPrice&&(c=c.filter(e=>(e.price||0)<=(i.maxPrice||1/0))));let a=c.length,d=Math.ceil(a/t),s=e>d?d:e,o=(s-1)*t,r=c.slice(o,Math.min(o+t,a));return{data:{size:t,page:s,total:a,totalPages:d,items:r}}},a=e=>{let t=n.find(t=>t.id===e);if(!t)throw Error("Kh\xf4ng t\xecm thấy sản phẩm");return{data:t}},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,i=[...n.filter(t=>t.id!==e)].sort(()=>.5-Math.random()).slice(0,t);return{data:{items:i,total:i.length}}}}},function(e){e.O(0,[648,878,971,117,744],function(){return e(e.s=2259)}),_N_E=e.O()}]);