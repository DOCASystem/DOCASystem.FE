(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{2863:function(e,n,a){Promise.resolve().then(a.bind(a,5968))},9376:function(e,n,a){"use strict";var t=a(5475);a.o(t,"useParams")&&a.d(n,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(n,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(n,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(n,{useSearchParams:function(){return t.useSearchParams}})},5968:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return o}});var t=a(7437),s=a(2265),r=a(9376),l=a(7648),i=a(9555),d=a(9884);function o(){let e=(0,r.useRouter)(),n=(0,r.useParams)().id,[a,o]=(0,s.useState)(!0),[m,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),[x,b]=(0,s.useState)(!1),[g,p]=(0,s.useState)({id:"",username:"",fullName:"",phoneNumber:"",email:"",address:"",role:"USER",status:"Hoạt động"}),[N,f]=(0,s.useState)({});(0,s.useEffect)(()=>{(async()=>{o(!0);try{await new Promise(e=>setTimeout(e,800)),"1"===n?p({id:"1",username:"johndoe",fullName:"John Doe",phoneNumber:"0901234567",email:"johndoe@example.com",address:"123 Nguyễn Văn Linh, Quận 7, TP. Hồ Ch\xed Minh",role:"USER",status:"Hoạt động"}):"2"===n?p({id:"2",username:"adminuser",fullName:"Admin User",phoneNumber:"0912345678",email:"admin@example.com",role:"ADMIN",status:"Hoạt động"}):(alert("Kh\xf4ng t\xecm thấy th\xf4ng tin người d\xf9ng"),e.push("/users-management"))}catch(n){console.error("Lỗi khi lấy th\xf4ng tin người d\xf9ng:",n),alert("C\xf3 lỗi xảy ra khi tải th\xf4ng tin người d\xf9ng"),e.push("/users-management")}finally{o(!1)}})()},[n,e]);let y=()=>{let e={};return g.username.trim()||(e.username="T\xean đăng nhập kh\xf4ng được để trống"),g.fullName.trim()||(e.fullName="Họ t\xean kh\xf4ng được để trống"),g.phoneNumber.trim()?/^[0-9]{10}$/.test(g.phoneNumber)||(e.phoneNumber="Số điện thoại kh\xf4ng hợp lệ"):e.phoneNumber="Số điện thoại kh\xf4ng được để trống",g.email&&!/^\S+@\S+\.\S+$/.test(g.email)&&(e.email="Email kh\xf4ng hợp lệ"),f(e),0===Object.keys(e).length},j=e=>{let{name:n,value:a}=e.target;p(e=>({...e,[n]:a})),b(!0),N[n]&&f(e=>{let a={...e};return delete a[n],a})},v=async a=>{if(a.preventDefault(),y()){c(!0);try{console.log("Cập nhật người d\xf9ng với dữ liệu:",g),await new Promise(e=>setTimeout(e,1e3)),b(!1),e.push("/users-management/view/".concat(n))}catch(e){console.error("Lỗi khi cập nhật người d\xf9ng:",e),alert("C\xf3 lỗi xảy ra khi cập nhật th\xf4ng tin người d\xf9ng")}finally{c(!1)}}},w=()=>{x?h(!0):e.push("/users-management/view/".concat(n))};return a?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Chỉnh sửa người d\xf9ng"}),(0,t.jsx)(l.default,{href:"/users-management/view/".concat(n),children:(0,t.jsx)(i.Z,{className:"bg-pink-doca hover:bg-pink-doca h-11 w-48",children:"Quay lại"})})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 flex justify-center items-center min-h-[400px]",children:(0,t.jsx)("div",{className:"text-gray-500",children:"Đang tải th\xf4ng tin người d\xf9ng..."})})]}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Chỉnh sửa người d\xf9ng"}),(0,t.jsx)(i.Z,{className:"bg-pink-doca hover:bg-pink-doca h-11 w-48",onClick:w,disabled:m,children:"Quay lại"})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,t.jsxs)("form",{onSubmit:v,children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),(0,t.jsx)("input",{type:"text",id:"id",name:"id",value:g.id,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100",disabled:!0,readOnly:!0})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:["T\xean đăng nhập ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"username",name:"username",value:g.username,onChange:j,className:"w-full p-2 border rounded-md ".concat(N.username?"border-red-500":"border-gray-300"),disabled:m}),N.username&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:N.username})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Họ t\xean ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:g.fullName,onChange:j,className:"w-full p-2 border rounded-md ".concat(N.fullName?"border-red-500":"border-gray-300"),disabled:m}),N.fullName&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:N.fullName})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:["Số điện thoại ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"phoneNumber",name:"phoneNumber",value:g.phoneNumber,onChange:j,className:"w-full p-2 border rounded-md ".concat(N.phoneNumber?"border-red-500":"border-gray-300"),disabled:m}),N.phoneNumber&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:N.phoneNumber})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:g.email||"",onChange:j,className:"w-full p-2 border rounded-md ".concat(N.email?"border-red-500":"border-gray-300"),disabled:m}),N.email&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:N.email})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vai tr\xf2 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"role",name:"role",value:g.role,onChange:j,className:"w-full p-2 border border-gray-300 rounded-md",disabled:m,children:[(0,t.jsx)("option",{value:"USER",children:"Kh\xe1ch h\xe0ng"}),(0,t.jsx)("option",{value:"STAFF",children:"Nh\xe2n vi\xean"}),(0,t.jsx)("option",{value:"ADMIN",children:"Admin"})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trạng th\xe1i ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"status",name:"status",value:g.status,onChange:j,className:"w-full p-2 border border-gray-300 rounded-md",disabled:m,children:[(0,t.jsx)("option",{value:"Hoạt động",children:"Hoạt động"}),(0,t.jsx)("option",{value:"Bị kh\xf3a",children:"Bị kh\xf3a"})]})]}),(0,t.jsxs)("div",{className:"mb-4 md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Địa chỉ"}),(0,t.jsx)("textarea",{id:"address",name:"address",rows:3,value:g.address||"",onChange:j,className:"w-full p-2 border border-gray-300 rounded-md",disabled:m})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,t.jsx)(i.Z,{type:"button",variant:"outline",className:"border-gray-300 hover:bg-gray-100 py-2 px-4",onClick:w,disabled:m,children:"Hủy"}),(0,t.jsx)(i.Z,{type:"submit",variant:"primary",className:"bg-pink-doca hover:bg-pink-doca-dark py-2 px-4",disabled:m,children:m?"Đang lưu...":"Lưu thay đổi"})]})]})}),(0,t.jsx)(d.Z,{isOpen:u,title:"X\xe1c nhận tho\xe1t",message:"Bạn c\xf3 thay đổi chưa được lưu. Bạn c\xf3 chắc chắn muốn tho\xe1t kh\xf4ng?",confirmButtonText:"Tho\xe1t",cancelButtonText:"Ở lại",onConfirm:()=>{h(!1),e.push("/users-management/view/".concat(n))},onCancel:()=>h(!1),type:"warning"})]})}},9555:function(e,n,a){"use strict";a.d(n,{Z:function(){return r}});var t=a(7437),s=a(1201);function r(e){let{className:n,children:a,onClick:r,disabled:l=!1,loading:i=!1,variant:d="primary",type:o="button"}=e;return(0,t.jsx)("button",{onClick:r,disabled:l||i,type:o,className:(0,s.cn)("w-[172px] h-[60px] text-[20px] text-center font-medium rounded-xl transition-all duration-200",{primary:"bg-pink-doca text-white hover:bg-pink-600",secondary:"bg-gray-500 text-white hover:bg-gray-600",outline:"border border-pink-doca text-pink-doca hover:bg-pink-doca hover:text-white"}[d],l&&"opacity-50 cursor-not-allowed",n),children:i?(0,t.jsx)("span",{className:"animate-spin",children:"⏳"}):a})}a(2265)},9884:function(e,n,a){"use strict";var t=a(7437);a(2265);var s=a(4887),r=a(1201);n.Z=e=>{let{isOpen:n,title:a,message:l,confirmButtonText:i,cancelButtonText:d,onConfirm:o,onCancel:m,confirmButtonClass:c,cancelButtonClass:u,type:h="info"}=e;if(!n)return null;let x={warning:{header:"bg-yellow-50 border-yellow-200",title:"text-yellow-700",confirmButton:"bg-yellow-500 hover:bg-yellow-600"},danger:{header:"bg-red-50 border-red-200",title:"text-red-700",confirmButton:"bg-red-500 hover:bg-red-600"},info:{header:"bg-blue-50 border-blue-200",title:"text-blue-700",confirmButton:"bg-blue-500 hover:bg-blue-600"}};return(0,s.createPortal)((0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4 overflow-hidden",children:[(0,t.jsx)("div",{className:(0,r.cn)("px-6 py-4 border-b",x[h].header),children:(0,t.jsx)("h3",{className:(0,r.cn)("text-lg font-medium",x[h].title),children:a})}),(0,t.jsx)("div",{className:"px-6 py-4",children:(0,t.jsx)("p",{className:"text-gray-700",children:l})}),(0,t.jsxs)("div",{className:"px-6 py-4 bg-gray-50 flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:m,className:(0,r.cn)("px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",u),children:d}),(0,t.jsx)("button",{onClick:o,className:(0,r.cn)("px-4 py-2 text-white rounded-md transition-colors",x[h].confirmButton,c),children:i})]})]})}),document.body)}},1201:function(e,n,a){"use strict";a.d(n,{cn:function(){return r}});var t=a(1994),s=a(3335);function r(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return(0,s.m6)((0,t.Z)(n))}}},function(e){e.O(0,[648,137,971,117,744],function(){return e(e.s=2863)}),_N_E=e.O()}]);